#include<bits/stdc++.h>
using namespace std;

long int power (long int a, long int b) {
    long int ans=1;
    while(b) {
        if(b&1)ans=(ans*a)%1000000007;
        a=(a*a)%1000000007;
        b=b/2;
    }
    return ans;
    }
    
    
int main()
{
	int t;
	cin>>t;
	for( int i=0;i<t;i++){
		long int m,n;
		cin>>m>>n;
		long int a[m],b[m];
		for(int j=0;j<m;j++){
			cin>>a[j];
		}
	
		for(int j=0;j<m;j++){
			cin>>b[j];
			
		}
		long int sum1 = 0;
	
			
			for(int j=0;j<m;j++){
				sum1 = power(sum1+power((a[j]*m),1),1);
			}
			
		long int sum2 = 0;
	
				for(int j=0;j<m;j++){
				sum2 = power(sum2+power((b[j]*m),1),1);
			}
			if(n==1){
				cout<<power(sum1,1)<<endl;
			}	
			else if(n==2){
				cout<<power(sum2,1)<<endl;
			}
			else{
				long int fib[n];
				fib[0] = sum1;
				fib[1] = sum2;
				for(int k=2;k<n;k++){
					fib[k] = power(fib[k-1]+fib[k-2],1);
				}
				cout<<power(fib[n-1],1)<<endl;
			}
		
		
		
	
	}
	return 0;
}
